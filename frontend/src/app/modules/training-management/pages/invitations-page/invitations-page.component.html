<div class="invitations-list-page">
  <div class="filter-section">
    <div class="filter-header">
      <h2 class="filter-title">Filters</h2>
      <div class="search-box">
        <span class="search-icon">üîç</span>
        <input
          type="text"
          class="search-input"
          placeholder="Search job titles..."
          [(ngModel)]="searchTerm"
          (ngModelChange)="onSearchTermChange()"
        />
      </div>
    </div>
    <div class="filter-controls">
      <div class="filter-group">
        <label class="filter-label">Status:</label>
        <select
          class="filter-select"
          [(ngModel)]="selectedStatus"
          (ngModelChange)="onStatusChange()"
        >
          <option value="all">All Status</option>
          <option value="CONFIRMED">Confirmed</option>
          <option value="PENDING">Pending</option>
        </select>
      </div>
    </div>
  </div>

  <div class="invitations-list-container">
    <div
      class="invitation-card"
      *ngFor="let invitation of displayedInvitations"
    >
      <div class="invitation-info">
        <h3 class="invitation-name">{{ invitation.employeeName }}</h3>
        <div class="invitation-meta">
          <span>ID: {{ invitation.id }}</span>
          <span>Employee ID: {{ invitation.employeeId }}</span>
        </div>
      </div>
      <span
        class="invitation-status"
        [ngClass]="invitation.status.toLowerCase()"
      >
        {{ invitation.status }}
      </span>
    </div>
  </div>

  <div class="pagination">
    <div class="pagination-info">
      Showing <b>1-{{ pageSize }}</b> of
      <b>{{ invitations.length }}</b> invitations
    </div>
    <div class="pagination-controls">
      <select
        class="page-size-select"
        [(ngModel)]="pageSize"
        (ngModelChange)="onPageSizeChange()"
      >
        @for (size of pageSizeOptions; track size) {
        <option [value]="size">{{ size }} per page</option>
        }
      </select>
      <button
        class="pagination-btn"
        [class.disabled]="isPrevDisabled()"
        (click)="previousPage()"
      >
        ‚óÄ
      </button>

      @for (page of visiblePages; track page; let i = $index) { @if(page !==
      '...') {
      <button
        class="pagination-btn"
        [class.active]="page === pageIndex"
        (click)="goToPage(+page)"
      >
        {{ +page + 1 }}
      </button>
      } @else {
      <button class="pagination-btn" disabled>...</button>
      } }

      <button
        class="pagination-btn"
        [class.disabled]="isNextDisabled()"
        (click)="nextPage()"
      >
        ‚ñ∂
      </button>
    </div>
  </div>
</div>
