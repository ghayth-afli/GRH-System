<div class="header">
  <div class="header-content">
    <div class="employee-info">
      <div class="avatar-container">
        <img
          [src]="imageSrc || 'assets/images/nopicture.png'"
          alt="Employee Avatar"
          class="avatar"
        />
      </div>
      <div class="employee-details">
        <div class="name">{{ user.firstName }} {{ user.lastName }}</div>
        <div class="post">
          <div class="job-and-edit-container">
            <div class="job-title">{{ user.jobTitle }}</div>
            <div class="edit-info">
              <button class="edit-info-btn" (click)="openEditModal()">
                Edit Info
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    @if(this.authService.hasRole('Employee')){
    <div class="header-leave-balances">
      <div class="leave-balance" *ngIf="leaveBalance$ | async as leaveBalance">
        <div class="balance">Remaining balance :</div>
        <div class="days">
          {{ leaveBalance.remainingLeave }}/{{ leaveBalance.totalLeave }}
        </div>
      </div>
    </div>
    }

    <div class="notification-container">
      <div class="notification-icon" (click)="toggleDropdown()">
        <img
          src="assets/icons/icons8-notification-48.png"
          alt="Notifications"
        />
        <span class="notification-badge" *ngIf="unreadNotificationsCount > 0">{{
          unreadNotificationsCount
        }}</span>
      </div>
      <div class="notification-dropdown" *ngIf="isDropdownOpen">
        <div
          class="notification-item"
          *ngFor="let notification of notifications"
        >
          <div class="notification-header">
            <img
              [src]="notification.icon"
              alt="Notification Icon"
              class="notification-icon-img"
            />
            <div class="notification-title">{{ notification.title }}</div>
          </div>
          <div class="notification-content">{{ notification.content }}</div>
          <div class="notification-seen" *ngIf="notification.seen">Seen</div>
        </div>
      </div>
    </div>
  </div>
</div>
